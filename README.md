# Engine-ECS

## Обзор
FlatFormer - это игровой движок, построенный по архитектуре ECS. Имеет базовые составляющие для создания простых 2D проектов. Целью его разработки было углубление знаний в области основных концепций построения игровых движков.


## Архитектура ECS
### Основные элементы
+ ***Entity*** – представляет собой некоторую сущность, которая находится в мире игры. С точки зрения реализации, Entity – это уникальный идентификатор, с которым связан набор компонентов.

+ ***Component*** – это простая структура данных без сложной логики. Каждый тип компонента можно присоединить к сущности, таким образом наделяя её теми или иными свойствами.
Например, добавив компонент Rigidbody, отвечающий за параметры симуляции твёрдого тела, можно наделить сущность физическими свойствами.

+ ***System*** – класс, который содержит логику определённой части игрового процесса. Каждая система имеет фильтр компонентов, которые требуются ей для выполнения задачи.
Например, физическая система может получать на вход выборку сущностей, которые содержат компонент Rigidbody, и применяет к ним гравитацию.

### Вспомогательные элементы
+ ***IDPool*** – занимается генерацией новых уникальных идентификаторов для сущностей и компонентов. Также поддерживает список освободившихся идентификаторов для повторного использования.

+ ***TypeIDCounter*** – выполняет схожую с IDPool задачу, но отвечает за статические идентификаторы типов. Идентификаторы типов необходимы для быстрого доступа и сравнения списков компонентов.

+ ***ComponentFilter*** – фильтр компонентов, представляющий маску, по которой отбираются сущности с определённым набором компонентов. Он необходим для того, чтобы обеспечивать системы только теми сущностями, которые обладают необходимым набором данных для выполнения той или иной задачи.

### Менеджеры
+ ***EntityManager*** – отвечает за создание/удаление и хранение сущностей с уникальными идентификаторами. Поддерживает список активных/неактивных сущностей и оповещает других менеджеров об изменении состояния объектов.

+ ***ComponentManager*** – отвечает за создание/удаление компонентов и их привязку к сущностям.

+ ***SystemManager*** – отвечает за хранение систем и их обновление в игровом цикле. Также занимается добавлением/удалением сущностей из систем в соответсвии с их фильтрами компонентов.
